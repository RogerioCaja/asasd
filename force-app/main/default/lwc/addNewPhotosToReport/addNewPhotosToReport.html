<template>
    <template if:true={showSpinner}>
        <div class="exampleHolder">
            <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
        </div>
    </template>
   
    
    <lightning-card title="Adicionar Fotos ao Relatório" icon-name="custom:custom14">
        <div class="slds-m-around_medium">
            <span class="title-observation">Observações:
            </span>
            <textarea data-id="observacao" rows="2" placeholder="Observações para fotos" onchange={handleTyping}></textarea>
        </div>
        <div class="slds-m-around_medium">
            <lightning-input type="file" 
            accept=".xlsx, .xls, .csv, .png, .jpg, .jpeg, .doc, .docx, .pdf"
            label="Arquivos" onchange={openfileUpload}></lightning-input>
        </div>
        <template for:each={fieldData} for:item="field" for:index="index">
            <div class="slds-m-around_medium container-image" key={field.filename}>
                <p class="columnl">{field.filename}</p>
                <div class="columnr">
                    <button data-id={field.url} onclick={handlePreview}><lightning-icon icon-name="action:preview"></lightning-icon> </button>
                    <button data-id={field.url} onclick={handleDeleteImage}><lightning-icon icon-name="action:close"></lightning-icon> </button>
                </div>
                
            </div>
            
        </template>
        <div class="footer slds-m-around_medium">
            <lightning-button style="font-size:8pt!important;" variant="brand" label="Adicionar" title="Submit" onclick={handleClick}></lightning-button>
        </div>
    </lightning-card>
        
    <template if:true={preview}>
        <div class="modal">
            <span class="close" onclick={cancel}>&times;</span>
            <div class="popup-preview" >
                <div class="visualization">
                    <img src={urlValue}/>
                </div>
                
            </div>
        </div>
    </template>
    

</template>

