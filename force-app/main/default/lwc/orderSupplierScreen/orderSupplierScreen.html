<template>
    <div class="search-title">
      	<span>Pesquisar <b>LOCAL DE ENTREGA</b>: Nome, CNPJ ou CPF, Razão Social:</span>
    </div>
    <c-custom-order-search style="margin: auto;" object-name="BPAccount" sales-org={headerData.organizacao_vendas.Id} field-name="Name" onshowcount={showCount} onshowresults={showResults} label="Pesquisar LOCAL DE ENTREGA: Nome, CNPJ ou CPF, Razão Social:" placeholder="Digite o nome do BP" required="true" onchild={getFieldsValueAccount}></c-custom-order-search>

    <div if:true={bpData} class="account-results">
        <div class="item account-selected">
            <div class="item-title">
                <svg width="25" height="27" viewBox="0 0 25 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="25" height="26.0417" rx="4" fill="#121212" />
                    <mask style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="27">
                        <rect width="25" height="26.0417" rx="4" fill="white" />
                    </mask>
                    <g mask="url(#mask0_2849_380)">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M11.5836 18.6674L11.5837 18.6674C11.6248 18.6439 11.6675 18.6197 11.7116 18.5947C12.2647 18.2505 12.8465 17.9587 13.4498 17.7231C13.2691 17.3464 13.1075 16.96 12.9658 16.5657C12.9658 16.5459 12.956 16.5205 12.9469 16.497L12.9469 16.497C12.9438 16.4889 12.9408 16.4811 12.9383 16.4738C12.321 16.7417 11.6592 16.8805 10.9905 16.8821C8.19852 16.8854 5.91412 14.5674 5.84417 11.6601C5.77422 8.75268 7.94428 6.31838 10.7329 6.17606C13.5215 6.03374 15.9096 8.2354 16.1129 11.136C17.269 11.2646 17.9196 11.8606 18.2684 12.524C18.3142 12.192 18.3378 11.8572 18.339 11.5218C18.3467 7.33803 15.1276 3.92329 11.1117 3.8554C7.0958 3.7875 3.77196 7.09161 3.64936 11.2734C3.52676 15.4552 6.65086 18.9644 10.6632 19.1519C10.8122 19.0682 10.963 18.9866 11.1394 18.9029V18.907C11.2673 18.8478 11.413 18.7647 11.5836 18.6674ZM10.9905 9.22538C12.2067 9.23101 13.1888 10.2616 13.1852 11.5285C13.1816 12.7955 12.1937 13.82 10.9774 13.8181C9.76117 13.8163 8.77615 12.7887 8.77614 11.5218C8.77613 10.911 9.00974 10.3253 9.4253 9.89435C9.84085 9.4634 10.4041 9.22266 10.9905 9.22538ZM19.3334 19.2505C19.5669 19.3874 19.7739 19.5088 19.9576 19.5949L19.9478 19.5969C21.3685 20.2501 21.3685 20.9748 21.3508 20.9748V22.1873H10.0028V20.9748C10.0028 20.9748 10.0107 20.2562 11.4216 19.6051C11.6117 19.5185 11.8266 19.3932 12.07 19.2511C12.7048 18.8808 13.5341 18.3971 14.6275 18.1905C14.2356 17.7578 13.9475 17.0882 13.6477 16.2881C13.5005 15.887 13.5028 15.5358 13.5057 15.0794C13.5062 15.0131 13.5066 14.9447 13.5066 14.8735C13.5066 14.7547 13.501 14.6172 13.495 14.4729C13.48 14.1066 13.4632 13.696 13.5321 13.4324C13.8632 12.1933 14.7078 11.8525 15.6876 11.8525C16.6674 11.8525 17.5081 12.1995 17.8432 13.4242C17.9123 13.6873 17.8951 14.1072 17.88 14.474C17.8742 14.6165 17.8686 14.7511 17.8686 14.8653C17.8686 14.9481 17.8694 15.0273 17.8702 15.1036C17.8745 15.5432 17.8778 15.8886 17.7276 16.2799C17.4258 17.078 17.1397 17.7496 16.7478 18.1803C17.8523 18.3823 18.6925 18.8749 19.3334 19.2505Z"
                            fill="white"></path>
                    </g>
                </svg>
                <span>
                    {bpData.Name}
                </span>
            </div>
            <div class="account-data">
                <div class="account-info" if:true={bpData.Company__c}>
                    <span>Razão Social:</span> {bpData.Company__c}
                </div>
                <div class="account-info" if:true={bpData.Company}>
                    <span>Razão Social:</span> {bpData.Company}
                </div>
                <div class="account-info" if:true={bpData.CNPJ__c} >
                    <span>Tipo de Conta:</span> Jurídica
                </div>
                <div class="account-info" if:true={bpData.CNPJ} >
                    <span>Tipo de Conta:</span> Jurídica
                </div>
                <div class="account-info" if:true={bpData.CPF__c} >
                    <span>Tipo de Conta:</span> Pessoa Física
                </div>
                <div class="account-info" if:true={bpData.CPF} >
                    <span>Tipo de Conta:</span>  Pessoa Física
                </div>
                <div class="account-info" if:true={bpData.CNPJ__c}>
                    <span>CNPJ:</span> {bpData.CNPJ__c}
                </div>
                <div class="account-info" if:true={bpData.CPF__c}>
                    <span>CPF:</span>{bpData.CPF__c}
                </div>
                <div class="account-info" if:true={bpData.CNPJ}>
                    <span>CNPJ:</span> {bpData.CNPJ}
                </div>
                <div class="account-info" if:true={bpData.CPF}>
                    <span>CPF:</span> {bpData.CPF}
                </div>
                <div class="account-info" if:false={bpData.AccountNumber}>
                    <span>Endereço:</span> {bpData.ShippingStreet}, {bpData.Number__c}, {bpData.Complement__c} - {bpData.Neighborhood__c}
                </div>
                <div class="account-info" if:true={bpData.AccountNumber}>
                    <span>Endereço:</span> {bpData.ShippingStreet}, {bpData.AccountNumber}, {bpData.Complement} - {bpData.Neighborhood}
                </div>
                <div class="account-info" if:true={bpData.ShippingCity}>
                    <span>Cidade:</span> {bpData.ShippingCity} - {bpData.ShippingState}
                </div>
                <div class="account-info" if:true={bpData.ShippingCountry}>
                    <span>País:</span> {bpData.ShippingCountry}
                </div>
                <div class="account-info" if:true={bpData.ShippingPostalCode}>
                    <span>Código Postal:</span> {bpData.ShippingPostalCode}
                </div>
                <div class="account-info" if:true={bpData.ExternalId__c}>
                    <span>Código SAP:</span> {bpData.ExternalId__c}
                </div>
                <div class="account-info" if:true={bpData.CodSap}>
                    <span>Código SAP:</span> {bpData.CodSap}
                </div>
                <div class="account-info" if:true={bpData.Email__c}>
                    <span>Email:</span> {bpData.Email__c}
                </div>
                <div class="account-info" if:true={bpData.Email}>
                    <span>Email:</span> {bpData.Email}
                </div>
                <div class="account-info">
                    <span>Telefone:</span> {bpData.Phone}
                </div>
            </div>
            <div class="account-button">
                <button class="selected">
                    SELECIONADA
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.52495 17.657L4.57495 12.707L5.98895 11.293L9.52645 14.8265L9.52495 14.828L18.01 6.34302L19.424 7.75702L10.939 16.243L9.52595 17.656L9.52495 17.657Z"
                            fill="white"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    
    <div class="account-results" if:true={showList}>
        <template if:false={message}>
            <h2 class="description">Resultados de <b>LOCAL DE ENTREGA</b>:</h2>
            <div if:true={showIcon} onclick={scrollTopPage} data-target-id="button-top" class="button-up"><lightning-icon icon-name="utility:arrowup"></lightning-icon></div>
            <div class="footer-pagination">
                <div onclick={previousSection} if:true={showPreviousSection}>
                    <lightning-icon icon-name="utility:jump_to_left"></lightning-icon>
                </div>
                <div onclick={previousPage} if:true={showPrevious}>
                    <svg width="11" height="19" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill="#2A9676" d="M9.16031 0.5L0.650024 9.33854L9.16031 18.1771L10.5795 16.7042L3.48645 9.33854L10.5795 1.97292L9.16031 0.5Z"></path>
                    </svg>
                </div>
                <template for:each={numberPages} for:item="number">
                    <div key={number.number} data-target-id={number.number} onclick={clickInNumber}>{number.number}</div>
                </template>
        
                <div onclick={nextPage} if:true={showNext}>
                    <svg width="11" height="19" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill="#2A9676" d="M2.1868 18.1771L10.6971 9.33859L2.18681 0.500045L0.76758 1.97296L7.8607 9.33859L0.767579 16.7042L2.1868 18.1771Z"></path>
                    </svg>
                </div>
        
                <div onclick={nextSection} if:true={showNextSection}>
                    <lightning-icon icon-name="utility:jump_to_right"></lightning-icon>
                </div>
            </div>
            <template for:each={records} for:item="rec">
                <div class="item" key={rec.Id} data-key={rec.Id}>
                    <div class="item-title">
                        <svg width="25" height="27" viewBox="0 0 25 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="25" height="26.0417" rx="4" fill="#121212" />
                            <mask style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="27">
                                <rect width="25" height="26.0417" rx="4" fill="white" />
                            </mask>
                            <g mask="url(#mask0_2849_380)">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M11.5836 18.6674L11.5837 18.6674C11.6248 18.6439 11.6675 18.6197 11.7116 18.5947C12.2647 18.2505 12.8465 17.9587 13.4498 17.7231C13.2691 17.3464 13.1075 16.96 12.9658 16.5657C12.9658 16.5459 12.956 16.5205 12.9469 16.497L12.9469 16.497C12.9438 16.4889 12.9408 16.4811 12.9383 16.4738C12.321 16.7417 11.6592 16.8805 10.9905 16.8821C8.19852 16.8854 5.91412 14.5674 5.84417 11.6601C5.77422 8.75268 7.94428 6.31838 10.7329 6.17606C13.5215 6.03374 15.9096 8.2354 16.1129 11.136C17.269 11.2646 17.9196 11.8606 18.2684 12.524C18.3142 12.192 18.3378 11.8572 18.339 11.5218C18.3467 7.33803 15.1276 3.92329 11.1117 3.8554C7.0958 3.7875 3.77196 7.09161 3.64936 11.2734C3.52676 15.4552 6.65086 18.9644 10.6632 19.1519C10.8122 19.0682 10.963 18.9866 11.1394 18.9029V18.907C11.2673 18.8478 11.413 18.7647 11.5836 18.6674ZM10.9905 9.22538C12.2067 9.23101 13.1888 10.2616 13.1852 11.5285C13.1816 12.7955 12.1937 13.82 10.9774 13.8181C9.76117 13.8163 8.77615 12.7887 8.77614 11.5218C8.77613 10.911 9.00974 10.3253 9.4253 9.89435C9.84085 9.4634 10.4041 9.22266 10.9905 9.22538ZM19.3334 19.2505C19.5669 19.3874 19.7739 19.5088 19.9576 19.5949L19.9478 19.5969C21.3685 20.2501 21.3685 20.9748 21.3508 20.9748V22.1873H10.0028V20.9748C10.0028 20.9748 10.0107 20.2562 11.4216 19.6051C11.6117 19.5185 11.8266 19.3932 12.07 19.2511C12.7048 18.8808 13.5341 18.3971 14.6275 18.1905C14.2356 17.7578 13.9475 17.0882 13.6477 16.2881C13.5005 15.887 13.5028 15.5358 13.5057 15.0794C13.5062 15.0131 13.5066 14.9447 13.5066 14.8735C13.5066 14.7547 13.501 14.6172 13.495 14.4729C13.48 14.1066 13.4632 13.696 13.5321 13.4324C13.8632 12.1933 14.7078 11.8525 15.6876 11.8525C16.6674 11.8525 17.5081 12.1995 17.8432 13.4242C17.9123 13.6873 17.8951 14.1072 17.88 14.474C17.8742 14.6165 17.8686 14.7511 17.8686 14.8653C17.8686 14.9481 17.8694 15.0273 17.8702 15.1036C17.8745 15.5432 17.8778 15.8886 17.7276 16.2799C17.4258 17.078 17.1397 17.7496 16.7478 18.1803C17.8523 18.3823 18.6925 18.8749 19.3334 19.2505Z"
                                    fill="white"></path>
                            </g>
                        </svg>
                        <span>
                            {rec.Name}
                        </span>
                    </div>
                    <div class="account-data">
                        <div class="account-info" if:true={rec.Company__c}>
                            <span>Razão Social:</span> {rec.Company__c}
                        </div>
                        <div class="account-info" if:true={rec.Company}>
                            <span>Razão Social:</span> {rec.Company}
                        </div>
                        <div class="account-info" if:true={rec.CNPJ__c} >
                            <span>Tipo de Conta:</span> Jurídica
                        </div>
                        <div class="account-info" if:true={rec.CNPJ} >
                            <span>Tipo de Conta:</span> Jurídica
                        </div>
                        <div class="account-info" if:true={rec.CPF__c} >
                            <span>Tipo de Conta:</span> Pessoa Física
                        </div>
                        <div class="account-info" if:true={rec.CPF} >
                            <span>Tipo de Conta:</span>  Pessoa Física
                        </div>
                        <div class="account-info" if:true={rec.CNPJ__c}>
                            <span>CNPJ:</span> {rec.CNPJ__c}
                        </div>
                        <div class="account-info" if:true={rec.CPF__c}>
                            <span>CPF:</span>{rec.CPF__c}
                        </div>
                        <div class="account-info" if:true={rec.CNPJ}>
                            <span>CNPJ:</span> {rec.CNPJ}
                        </div>
                        <div class="account-info" if:true={rec.CPF}>
                            <span>CPF:</span> {rec.CPF}
                        </div>
                        <div class="account-info">
                            <span>Endereço:</span> {rec.ShippingStreet}, {rec.Number__c}, {rec.Complement__c} - {rec.Neighborhood__c}
                        </div>
                        <div class="account-info" if:true={rec.ShippingCity}>
                            <span>Cidade:</span> {rec.ShippingCity} - {rec.ShippingState}
                        </div>
                        <div class="account-info" if:true={rec.ShippingCountry}>
                            <span>País:</span> {rec.ShippingCountry}
                        </div>
                        <div class="account-info" if:true={rec.ShippingPostalCode}>
                            <span>Código Postal:</span> {rec.ShippingPostalCode}
                        </div>
                        <div class="account-info" if:true={rec.ExternalId__c}>
                            <span>Código SAP:</span> {rec.ExternalId__c}
                        </div>
                        <div class="account-info" if:true={rec.CodSap}>
                            <span>Código SAP:</span> {rec.ExternalId__c}
                        </div>
                        <div class="account-info" if:true={rec.Email__c}>
                            <span>Email:</span> {rec.Email__c}
                        </div>
                        <div class="account-info" if:true={rec.Email}>
                            <span>Email:</span> {rec.Email}
                        </div>
                        <div class="account-info">
                            <span>Telefone:</span> {rec.Phone}
                        </div>
                    </div>
                    <div class="account-button">
                        <button data-key={rec.Id} onclick={selectAccountFromResults}>
                            SELECIONAR
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M9.52495 17.657L4.57495 12.707L5.98895 11.293L9.52645 14.8265L9.52495 14.828L18.01 6.34302L19.424 7.75702L10.939 16.243L9.52595 17.656L9.52495 17.657Z"
                                    fill="white"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </template>
        </template>
        <template if:true={message}>
            <h2 class="description">{message}</h2>
        </template>
        
        <div class="footer-pagination">
            <div onclick={previousSection} if:true={showPreviousSection}>
                <lightning-icon icon-name="utility:jump_to_left"></lightning-icon>
            </div>
            <div onclick={previousPage} if:true={showPrevious}>
                <svg width="11" height="19" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#2A9676" d="M9.16031 0.5L0.650024 9.33854L9.16031 18.1771L10.5795 16.7042L3.48645 9.33854L10.5795 1.97292L9.16031 0.5Z"></path>
                </svg>
            </div>
            <template for:each={numberPages} for:item="number">
                <div key={number.number} data-target-id={number.number} onclick={clickInNumber}>{number.number}</div>
            </template>

            <div onclick={nextPage} if:true={showNext}>
                <svg width="11" height="19" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#2A9676" d="M2.1868 18.1771L10.6971 9.33859L2.18681 0.500045L0.76758 1.97296L7.8607 9.33859L0.767579 16.7042L2.1868 18.1771Z"></path>
                </svg>
            </div>

            <div onclick={nextSection} if:true={showNextSection}>
                <lightning-icon icon-name="utility:jump_to_right"></lightning-icon>
            </div>
        </div>
    </div>
</template>